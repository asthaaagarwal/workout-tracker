<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gains of Thrones</title>
    
    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#1c1c1e">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Workout Trainer">
    <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180.png">
    <link rel="apple-touch-icon" sizes="167x167" href="/icons/apple-icon-167.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120.png">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
    
    <!-- Stylesheets -->
    <link rel="stylesheet" href="style.css">
    
    <!-- Service Worker Registration -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('sw.js')
                    .then((registration) => {
                        console.log('SW registered: ', registration);
                    })
                    .catch((registrationError) => {
                        console.log('SW registration failed: ', registrationError);
                    });
            });
        }
    </script>
</head>
<body>
    <div class="container">
        <!-- Home Screen -->
        <div id="homeScreen" class="screen">
            <header class="header">
                <h1>Gains of Thrones</h1>
            </header>

            <!-- Workout Cards -->
            <div id="workoutList" class="workout-list">
                <!-- Workout cards will be dynamically generated -->
            </div>

            <!-- Stats Card -->
            <div class="stats-card">
                <div class="stat">
                    <span class="stat-value" id="daysSinceLastWorkout">0</span>
                    <span class="stat-label">Days since last workout</span>
                </div>
                <div class="stat">
                    <span class="stat-value" id="totalWorkouts">0</span>
                    <span class="stat-label">Total workouts completed</span>
                </div>
                <div class="stat">
                    <span class="stat-value" id="totalCycles">0</span>
                    <span class="stat-label">Cycles completed</span>
                </div>
            </div>

            <!-- Calendar Card -->
            <div class="calendar-card" id="calendarBtn">
                <div class="calendar-card-header">
                    <span class="calendar-icon">ðŸ“…</span>
                    <h3>Workout Calendar</h3>
                </div>
                <p class="calendar-card-description">View your workout history and progress</p>
            </div>
        </div>

        <!-- Workout Screen -->
        <div id="workoutScreen" class="screen hidden">
            <header class="workout-header">
                <button id="cancelWorkoutBtn" class="btn-cancel">Back</button>
                <h2 id="workoutTitle">Workout</h2>
                <div class="header-spacer"></div>
            </header>
            
            <div class="timer">
                <span id="workoutTimer">00:00</span>
            </div>

            <button id="startWorkoutBtn" class="btn-success hidden">Start Workout</button>
            <button id="completeWorkoutBtn" class="btn-success hidden">Complete Workout</button>

            <div id="exerciseList" class="exercise-list">
                <!-- Exercise items will be dynamically generated -->
            </div>
        </div>

        <!-- Calendar Screen -->
        <div id="calendarScreen" class="screen hidden">
            <header class="calendar-header">
                <button id="closeCalendarBtn" class="btn-cancel">Back</button>
                <h2>Workout Calendar</h2>
                <div class="header-spacer"></div>
            </header>

            <div class="calendar-navigation">
                <button id="prevMonthBtn" class="btn-nav">â€¹</button>
                <span id="currentMonth">January 2024</span>
                <button id="nextMonthBtn" class="btn-nav">â€º</button>
            </div>

            <div id="calendar" class="calendar-grid">
                <!-- Calendar will be dynamically generated -->
            </div>

            <div id="workoutDetails" class="workout-details hidden">
                <!-- Selected date workout details -->
            </div>
        </div>

        <!-- Exercise Bottom Sheet -->
        <div id="exerciseBottomSheet" class="bottom-sheet hidden">
            <div class="bottom-sheet-content">
                <div class="bottom-sheet-header">
                    <h3 id="sheetExerciseTitle">Exercise</h3>
                    <button class="sheet-close" id="closeSheetBtn">Ã—</button>
                </div>
                <div id="sheetSetsContainer" class="sheet-sets-container">
                    <!-- Sets will be dynamically generated -->
                </div>
                <div class="sheet-actions">
                    <button id="sheetAddSetBtn" class="btn-add-set">Add Set</button>
                    <button id="sheetDoneBtn" class="btn-done-exercise">Done</button>
                </div>
            </div>
        </div>

        <!-- Celebration Overlay -->
        <div id="celebrationOverlay" class="celebration-overlay hidden">
            <div class="celebration-content">
                <div class="celebration-text">ðŸŽ‰</div>
                <h2>Workout Complete!</h2>
                <p>Great job finishing your workout!</p>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>